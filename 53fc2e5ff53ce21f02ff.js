!function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],p=0,d=[];p<l.length;p++)i=l[p],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&d.push(n[i][0]),n[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],a=!0,l=1;l<r.length;l++){var s=r[l];0!==n[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={0:0},o=[];function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([98,1]),r()}({94:function(e,t,r){var a=r(95);"string"==typeof a&&(a=[[e.i,a,""]]);var n={insert:"head",singleton:!1};r(97)(a,n);a.locals&&(e.exports=a.locals)},95:function(e,t,r){(e.exports=r(96)(!0)).push([e.i,"input:-webkit-autofill{-webkit-box-shadow:0 0 0 30px #FFFFFF inset;box-shadow:0 0 0 30px #FFFFFF inset}\n","",{version:3,sources:["App.scss"],names:[],mappings:"AAAA,uBAAuB,2CAAkC,CAAlC,mCAAmC",file:"App.scss",sourcesContent:["input:-webkit-autofill{box-shadow:0 0 0 30px #FFFFFF inset}\n"]}])},98:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(7),i=r.n(o),l=r(16),s=r(34),c=r.n(s),u=r(52),p=r.n(u),d=r(61),g=r.n(d),m=r(26),f=r.n(m),b=r(43),v=r.n(b),h=r(20),y=r.n(h),w=(r(58),r(10)),E=r(49),x=r.n(E),O=r(44),C=r.n(O);function j(e){var t=function(e,t){if("object"!==x()(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!==x()(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x()(t)?t:String(t)}var S,k,N,P,F,L,I,A,T=[{login:"admin",password:"123test"},{login:"developer",password:"456test"}],D=function(e){var t=e.login,r=e.password;return new Promise((function(e,a){var n;T.forEach((function(e){if(e.login===t&&e.password===r){var a="password",o=(e[a],C()(e,[a].map(j)));n=o}})),n?setTimeout((function(){return e(n)}),3e3):setTimeout((function(){return a(new Error("Incorrect login or password"))}),3e3)}))},_=(S=function(){function e(t){c()(this,e),this._appStore=void 0,f()(this,"login",k,this),f()(this,"error",N,this),f()(this,"dataIsLoading",P,this),f()(this,"isLogged",F,this),this._appStore=t}var t;return v()(e,[{key:"authUser",value:(t=g()(p.a.mark((function e(t,r,a){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.dataIsLoading=!0,e.prev=1,e.next=4,D({login:t,password:r});case 4:n=e.sent,this.login=n.login,this.dataIsLoading=!1,this.isLogged=!0,this.error="",a(),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(1),this.error=e.t0.message,this.dataIsLoading=!1,a();case 17:case"end":return e.stop()}}),e,this,[[1,12]])}))),function(e,r,a){return t.apply(this,arguments)})}]),e}(),k=y()(S.prototype,"login",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=y()(S.prototype,"error",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=y()(S.prototype,"dataIsLoading",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=y()(S.prototype,"isLogged",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y()(S.prototype,"authUser",[w.b],Object.getOwnPropertyDescriptor(S.prototype,"authUser"),S.prototype),S);function z(e){return new _(e)}var B=(L=function(){function e(t){c()(this,e),this._appStore=void 0,f()(this,"categories",I,this),f()(this,"products",A,this),this._appStore=t}return v()(e,[{key:"getCategory",value:function(e){return this.categories[e]}}]),e}(),I=y()(L.prototype,"categories",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{1:{name:"test"},2:{name:"test2"},3:{name:"test3"}}}}),A=y()(L.prototype,"products",[w.f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{id:1,name:"test product 1",categoryId:2},{id:2,name:"test product 2",categoryId:2},{id:3,name:"test product 4",categoryId:3}]}}),L);function U(e){return new B(e)}var M=function e(){c()(this,e),this._userStore=void 0,this._catalogStore=void 0,this._userStore=z(this),this._catalogStore=U(this)};function W(){return new M}var H=n.a.createContext({appStore:W(),userStore:z(W()),catalogStore:U(W())}),J=function(){return n.a.useContext(H)},R=r(31),V=r.n(R),G=r(136),q=r(137),K=r(149),Q=r(139),X=r(146),Y=r(132),Z=Object(l.a)((function(e){var t=e.className,r=e.categories,a=e.categoryId,o=e.onChangeCategory,i=Object.keys(r);return n.a.createElement(X.a,{value:a,onChange:o,className:t,variant:"outlined",margin:"none",fullWidth:!0,style:{maxWidth:"40%"}},n.a.createElement(Y.a,{value:0,disabled:!0},"Category"),i.map((function(e){return n.a.createElement(Y.a,{key:e,value:e},r[Number(e)].name)})))})),$=r(100),ee=r(133),te=r(134),re=r(135),ae=r(131),ne=r(64),oe=r.n(ne),ie=Object(l.a)((function(e){var t=e.className,r=e.categories,a=e.products.map((function(e){return n.a.createElement($.a,{key:e.id},n.a.createElement(ee.a,null,n.a.createElement(te.a,null,n.a.createElement(oe.a,null))),n.a.createElement(re.a,{primary:e.name,secondary:r[e.categoryId].name}))}));return n.a.createElement("div",{className:t},n.a.createElement(ae.a,null,a))})),le=Object(G.a)((function(){return{catalog:{display:"flex",flexDirection:"row",margin:"20px 50px"},formAddProduct:{display:"flex",flexDirection:"column",width:"500px"},productProps:{flexDirection:"row",alignItems:"center"},inputSelectCategory:{marginLeft:"2px"},buttonAdd:{marginTop:"5px"},productsList:{marginLeft:"50px"}}})),se=Object(l.a)((function(){var e=Object(a.useState)(""),t=V()(e,2),r=t[0],o=t[1],i=Object(a.useState)(0),l=V()(i,2),s=l[0],c=l[1],u=le(),p=J().catalogStore,d=p.categories,g=p.products;return n.a.createElement("div",{className:u.catalog},n.a.createElement("div",{className:u.formAddProduct},n.a.createElement(q.a,{className:u.productProps},n.a.createElement(K.a,{type:"text",variant:"outlined",placeholder:"Enter product name",onChange:function(e){o(e.currentTarget.value)},value:r,hiddenLabel:!0,fullWidth:!0}),n.a.createElement(Z,{className:u.inputSelectCategory,categories:d,categoryId:s,onChangeCategory:function(e){c(Number(e.target.value))}})),n.a.createElement(Q.a,{type:"button",variant:"outlined",color:"primary",onClick:function(){},className:u.buttonAdd},"Add")),n.a.createElement(ie,{className:u.productsList,categories:d,products:g}))})),ce=r(65),ue=r.n(ce),pe=r(144),de=r(138),ge=r(40),me=r(151),fe=r(145),be=r(48),ve=r.n(be),he=r(147),ye=r(51),we=r.n(ye),Ee=r(3),xe=r(142),Oe=r(143),Ce=r(140),je=r(141),Se=r(69),ke=r.n(Se),Ne=r(66),Pe=r.n(Ne),Fe=r(67),Le=r.n(Fe),Ie=r(68),Ae=r.n(Ie),Te={success:Pe.a,warning:Le.a,error:Ae.a,info:ve.a},De=Object(G.a)((function(e){return{success:{backgroundColor:Ce.a[600]},error:{backgroundColor:e.palette.error.dark},info:{backgroundColor:e.palette.primary.main},warning:{backgroundColor:je.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(1)},message:{display:"flex",alignItems:"center"}}})),_e=function(e){var t=De(),r=e.className,a=e.message,o=e.onClose,i=e.variant,l=C()(e,["className","message","onClose","variant"]),s=Te[i];return n.a.createElement(xe.a,we()({className:Object(Ee.a)(t[i],r),"aria-describedby":"client-snackbar",message:[n.a.createElement("span",{id:"client-snackbar",className:t.message,key:"message-".concat(t.message)},n.a.createElement(s,{className:Object(Ee.a)(t.icon,t.iconVariant)}),a)],action:[n.a.createElement(Oe.a,{key:"close","aria-label":"close",color:"inherit",onClick:o},n.a.createElement(ke.a,{className:t.icon}))]},l))};function ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ze(r,!0).forEach((function(t){ue()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ze(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue={login:{value:"",error:!1},password:{value:"",error:!1}},Me=Object(G.a)((function(){return{loginFormContainer:{display:"flex",justifyContent:"center",flexDirection:"column",height:"90vh"},loginForm:{display:"flex",flexDirection:"column",padding:"10px",border:"1px solid #4f4848",borderRadius:"4px"},textField:{marginTop:"10px"},loginButton:{marginTop:"7px",minHeight:"36px"},spiner:{color:"#3f51b5"},infoIcon:{color:"orange",alignSelf:"center",marginTop:"10px",cursor:"pointer"},testData:{padding:"5px"}}})),We=Object(l.a)((function(){var e=Object(a.useState)(Ue),t=V()(e,2),r=t[0],o=t[1],i=Object(a.useState)(!1),l=V()(i,2),s=l[0],c=l[1],u=Object(a.useState)(null),p=V()(u,2),d=p[0],g=p[1],m=Me(),f=J().userStore,b=function(e,t){"clickaway"!==t&&c(!1)};return n.a.createElement(pe.a,{maxWidth:"sm",className:m.loginFormContainer},n.a.createElement("form",{className:m.loginForm,onSubmit:function(e){e.preventDefault(),r.login.value.length||r.password.value.length?r.login.value.length?r.password.value.length?o({login:Be({},r.login,{error:!1}),password:Be({},r.password,{error:!1})}):o({login:Be({},r.login),password:Be({},r.password,{error:!0})}):o({login:Be({},r.login,{error:!0}),password:Be({},r.password)}):o({login:Be({},r.login,{error:!0}),password:Be({},r.password,{error:!0})}),r.login.value&&r.password.value&&f.authUser(r.login.value.toLowerCase(),r.password.value,(function(){f.error.length&&c(!0)}))}},n.a.createElement(K.a,{id:"login",className:m.textField,type:"text",autoComplete:"username",value:r.login.value,onChange:function(e){e.currentTarget.value.length?o(Be({},r,{login:{value:e.currentTarget.value,error:!1}})):o(Be({},r,{login:{value:e.currentTarget.value,error:!0}}))},variant:"outlined",label:"login",error:r.login.error,disabled:f.dataIsLoading}),r.login.error?n.a.createElement(de.a,{id:"my-helper-text",error:r.login.error},"Login field cannot be empty"):null,n.a.createElement(K.a,{id:"password",className:m.textField,type:"password",autoComplete:"current-password",value:r.password.value,onChange:function(e){e.currentTarget.value.length?o(Be({},r,{password:{value:e.currentTarget.value,error:!1}})):o(Be({},r,{password:{value:e.currentTarget.value,error:!0}}))},variant:"outlined",label:"password",error:r.password.error,disabled:f.dataIsLoading}),r.password.error?n.a.createElement(de.a,{id:"my-helper-text",error:r.password.error},"Password field cannot be empty"):null,n.a.createElement(Q.a,{type:"submit",variant:"contained",color:"primary",className:m.loginButton,disabled:f.dataIsLoading||r.login.error||r.password.error},f.dataIsLoading?n.a.createElement(fe.a,{color:"secondary",size:20,className:m.spiner}):"LOGIN"),n.a.createElement(ve.a,{className:m.infoIcon,onClick:function(e){g(e.currentTarget)}}),n.a.createElement(he.a,{open:Boolean(d),onClose:function(e,t){"backdropClick"===t&&g(null)},anchorEl:d,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},n.a.createElement(ge.a,{className:m.testData},n.a.createElement("b",null,"User data for testing app:"),n.a.createElement("br",null),n.a.createElement("br",null),"Login: admin",n.a.createElement("br",null),"Password: 123test",n.a.createElement("br",null),n.a.createElement("br",null),"Login: developer",n.a.createElement("br",null),"Password: 456test"))),n.a.createElement(me.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:s&&!f.dataIsLoading,autoHideDuration:8e3,onClose:b},n.a.createElement(_e,{onClose:b,variant:"error",message:"".concat(f.error,". Please re-enter the form")})))})),He=(r(94),Object(l.a)((function(){var e=J().userStore;return n.a.createElement("div",{className:"app"},e.isLogged?n.a.createElement(se,null):n.a.createElement(We,null))})));i.a.render(n.a.createElement(He,null),document.getElementById("root"))}});